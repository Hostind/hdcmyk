<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Design Test - LAB Color Calculator</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Test viewport indicators */
        .viewport-indicator {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            z-index: 9999;
        }
        
        /* Show different indicators based on screen size */
        .viewport-indicator::after {
            content: "Desktop (>1200px)";
        }
        
        @media (max-width: 1200px) {
            .viewport-indicator::after {
                content: "Tablet Landscape (≤1200px)";
            }
        }
        
        @media (max-width: 768px) {
            .viewport-indicator::after {
                content: "Tablet Portrait (≤768px)";
            }
        }
        
        @media (max-width: 480px) {
            .viewport-indicator::after {
                content: "Mobile (≤480px)";
            }
        }
        
        @media screen and (orientation: landscape) and (max-width: 1024px) {
            .viewport-indicator::after {
                content: "Tablet Landscape Mode";
            }
        }
    </style>
</head>
<body>
    <div class="viewport-indicator"></div>
    
    <div class="calculator-container">
        <header class="app-header">
            <h1>LAB Color Matching Calculator</h1>
            <p class="subtitle">Professional CMYK-to-LAB Visual Color Difference Calculator</p>
        </header>

        <main class="calculator-main">
            <!-- Target Color Section -->
            <section class="color-section" id="target-section">
                <h2>Target Color</h2>
                <div class="color-display">
                    <div class="color-swatch" id="target-swatch" style="background-color: rgb(200, 100, 50);" aria-label="Target color preview"></div>
                    <div class="color-equation-symbol">-</div>
                </div>
                
                <div class="preset-controls">
                    <div class="preset-dropdown-container">
                        <label for="target-preset-select">Preset Colors:</label>
                        <select id="target-preset-select" class="preset-select">
                            <option value="">Select a preset color...</option>
                            <option value="test">Test Color</option>
                        </select>
                    </div>
                    <div class="quick-actions">
                        <button type="button" class="quick-action-btn">Clear</button>
                        <button type="button" class="quick-action-btn">Copy CMYK</button>
                    </div>
                </div>
                
                <div class="input-groups">
                    <div class="input-group">
                        <label class="group-label">CMYK Values</label>
                        <div class="input-row">
                            <div class="input-field">
                                <label>C%</label>
                                <input type="number" value="15" min="0" max="100" step="0.1">
                            </div>
                            <div class="input-field">
                                <label>M%</label>
                                <input type="number" value="78" min="0" max="100" step="0.1">
                            </div>
                            <div class="input-field">
                                <label>Y%</label>
                                <input type="number" value="65" min="0" max="100" step="0.1">
                            </div>
                            <div class="input-field">
                                <label>K%</label>
                                <input type="number" value="8" min="0" max="100" step="0.1">
                            </div>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label class="group-label">LAB Values</label>
                        <div class="input-row">
                            <div class="input-field">
                                <label>L*</label>
                                <input type="number" value="61.5" min="0" max="100" step="0.01">
                            </div>
                            <div class="input-field">
                                <label>a*</label>
                                <input type="number" value="44.2" min="-128" max="127" step="0.01">
                            </div>
                            <div class="input-field">
                                <label>b*</label>
                                <input type="number" value="35.8" min="-128" max="127" step="0.01">
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sample Color Section -->
            <section class="color-section" id="sample-section">
                <h2>Sample Color</h2>
                <div class="color-display">
                    <div class="color-swatch" id="sample-swatch" style="background-color: rgb(180, 90, 40);" aria-label="Sample color preview"></div>
                    <div class="color-equation-symbol">=</div>
                </div>
                
                <div class="preset-controls">
                    <div class="preset-dropdown-container">
                        <label for="sample-preset-select">Preset Colors:</label>
                        <select id="sample-preset-select" class="preset-select">
                            <option value="">Select a preset color...</option>
                            <option value="test">Test Color</option>
                        </select>
                    </div>
                    <div class="quick-actions">
                        <button type="button" class="quick-action-btn">Clear</button>
                        <button type="button" class="quick-action-btn">Copy CMYK</button>
                    </div>
                </div>
                
                <div class="input-groups">
                    <div class="input-group">
                        <label class="group-label">CMYK Values</label>
                        <div class="input-row">
                            <div class="input-field">
                                <label>C%</label>
                                <input type="number" value="18" min="0" max="100" step="0.1">
                            </div>
                            <div class="input-field">
                                <label>M%</label>
                                <input type="number" value="80" min="0" max="100" step="0.1">
                            </div>
                            <div class="input-field">
                                <label>Y%</label>
                                <input type="number" value="64" min="0" max="100" step="0.1">
                            </div>
                            <div class="input-field">
                                <label>K%</label>
                                <input type="number" value="10" min="0" max="100" step="0.1">
                            </div>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label class="group-label">LAB Values</label>
                        <div class="input-row">
                            <div class="input-field">
                                <label>L*</label>
                                <input type="number" value="59.2" min="0" max="100" step="0.01">
                            </div>
                            <div class="input-field">
                                <label>a*</label>
                                <input type="number" value="42.1" min="-128" max="127" step="0.01">
                            </div>
                            <div class="input-field">
                                <label>b*</label>
                                <input type="number" value="37.3" min="-128" max="127" step="0.01">
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Delta Results Section -->
            <section class="delta-section" id="delta-section">
                <h2>Delta</h2>
                <div class="color-display">
                    <div class="delta-indicator" id="delta-indicator">
                        <span class="delta-symbol">Δ</span>
                    </div>
                </div>
                
                <div class="delta-values" id="delta-values">
                    <div class="delta-item">
                        <label>ΔL*</label>
                        <span>2.3</span>
                    </div>
                    <div class="delta-item">
                        <label>Δa*</label>
                        <span>2.1</span>
                    </div>
                    <div class="delta-item">
                        <label>Δb*</label>
                        <span>-1.5</span>
                    </div>
                    <div class="delta-item">
                        <label>ΔC*</label>
                        <span>1.8</span>
                    </div>
                    <div class="delta-item">
                        <label>Δh</label>
                        <span>0.7</span>
                    </div>
                </div>
            </section>
        </main>

        <!-- Calculate Button -->
        <div class="calculate-section">
            <div class="calculate-controls">
                <button class="calculate-button">
                    Calculate Color Difference
                </button>
                <button class="reset-button">
                    Reset All
                </button>
            </div>
        </div>

        <!-- Results Section -->
        <section class="results-section visible" id="results-section">
            <div class="total-delta-e">
                <h3>Total Color Difference</h3>
                <div class="delta-e-value acceptable">
                    <span class="delta-e-number">3.48</span>
                    <span class="delta-e-label">ΔE*ab</span>
                </div>
                <div class="tolerance-zone acceptable">Acceptable (2.1-5.0)</div>
            </div>

            <div class="suggestions-container">
                <h3>Suggested CMYK Adjustments to Reach Target</h3>
                <div class="suggestions-list">
                    <div class="suggestion-item">
                        <div class="suggestion-header">
                            <div class="suggestion-number">1</div>
                            <div class="suggestion-description">Reduce cyan by 2%</div>
                            <div class="adjustment-magnitude">Small</div>
                        </div>
                        <div class="suggestion-cmyk">
                            <div class="cmyk-values">
                                <div class="cmyk-component">
                                    <label>C:</label>
                                    <span class="cmyk-value">16%</span>
                                </div>
                                <div class="cmyk-component">
                                    <label>M:</label>
                                    <span class="cmyk-value">80%</span>
                                </div>
                                <div class="cmyk-component">
                                    <label>Y:</label>
                                    <span class="cmyk-value">64%</span>
                                </div>
                                <div class="cmyk-component">
                                    <label>K:</label>
                                    <span class="cmyk-value">10%</span>
                                </div>
                            </div>
                        </div>
                        <div class="suggestion-actions">
                            <button class="apply-suggestion-btn">Apply</button>
                            <button class="copy-suggestion-btn">Copy</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- History and Export Section -->
        <section class="tools-section">
            <div class="history-panel">
                <h3>Recent Comparisons</h3>
                <div class="history-list">
                    <div class="history-item">
                        <div class="history-header">
                            <div class="history-date">2024-01-15 14:30</div>
                            <div class="history-delta-e acceptable">ΔE: 3.48</div>
                        </div>
                        <div class="history-colors">
                            <div class="history-color-info">
                                <span class="color-label">Target:</span>
                                <span class="cmyk-preview">C:15 M:78 Y:65 K:8</span>
                            </div>
                            <div class="history-color-info">
                                <span class="color-label">Sample:</span>
                                <span class="cmyk-preview">C:18 M:80 Y:64 K:10</span>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="clear-history-btn">Clear History</button>
            </div>
            
            <div class="export-panel">
                <h3>Export Results</h3>
                <div class="export-buttons">
                    <button class="export-btn">Export CSV</button>
                    <button class="export-btn">Export PDF</button>
                </div>
            </div>
        </section>
    </div>
    
    <script src="test-responsive-validation.js"></script>
    <script>
        // Additional test functionality
        document.addEventListener('DOMContentLoaded', () => {
            // Add test buttons for manual testing
            const testControls = document.createElement('div');
            testControls.style.cssText = `
                position: fixed;
                bottom: 20px;
                left: 20px;
                background: rgba(0, 0, 0, 0.8);
                color: white;
                padding: 15px;
                border-radius: 8px;
                font-size: 12px;
                z-index: 9999;
                display: flex;
                gap: 10px;
                flex-wrap: wrap;
                max-width: 300px;
            `;
            
            testControls.innerHTML = `
                <button onclick="window.responsiveValidator.runAllTests()" style="padding: 5px 10px; border: none; border-radius: 4px; cursor: pointer;">
                    Run Tests
                </button>
                <button onclick="document.body.classList.toggle('pressroom-mode')" style="padding: 5px 10px; border: none; border-radius: 4px; cursor: pointer;">
                    Toggle Pressroom Mode
                </button>
                <button onclick="testTouchTargets()" style="padding: 5px 10px; border: none; border-radius: 4px; cursor: pointer;">
                    Highlight Touch Targets
                </button>
            `;
            
            document.body.appendChild(testControls);
            
            // Test touch target highlighting
            window.testTouchTargets = () => {
                const interactiveElements = document.querySelectorAll(
                    'button, input, select, .color-swatch, .suggestion-item, .history-item'
                );
                
                interactiveElements.forEach(element => {
                    const rect = element.getBoundingClientRect();
                    const minDimension = Math.min(rect.width, rect.height);
                    
                    if (minDimension < 44) {
                        element.style.outline = '2px solid red';
                        element.title = `Too small: ${Math.round(rect.width)}x${Math.round(rect.height)}px`;
                    } else {
                        element.style.outline = '2px solid green';
                        element.title = `Good size: ${Math.round(rect.width)}x${Math.round(rect.height)}px`;
                    }
                });
                
                setTimeout(() => {
                    interactiveElements.forEach(element => {
                        element.style.outline = '';
                        element.title = '';
                    });
                }, 3000);
            };
            
            // Simulate different device orientations
            window.testOrientation = (orientation) => {
                if (orientation === 'landscape') {
                    document.body.style.transform = 'rotate(90deg)';
                    document.body.style.transformOrigin = 'center center';
                } else {
                    document.body.style.transform = '';
                }
            };
        });
    </script>
</body>
</html>